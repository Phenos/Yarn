<md-content style="z-index:5; overflow: hidden;"
            flex="grow"
            layout="row"
>
    <early-bird ng-if="false">
        <img src="/images/early-bird.png" class="hvr-buzz-out" ng-click="open()"/>

        <div class="message" ng-click="open()">
            <span>
                Get early access with the <strong class="underline">Early Bird</strong> special.
            </span>
        </div>
    </early-bird>
    <player class="layout-panel"
            flex="auto"
            user="user"
            layout="column"></player>
    <md-section
            md-whiteframe="10"
            class="IDE"
            layout="column"
            flex="grow"
            ng-show="_IDEisVisible">
        <md-section layout="row" flex="" style="overflow: hidden; position: relative;">
            <md-section
                    ng-show="_IDEisVisible"
                    ng-if="state.story.exists"
                    md-whiteframe="10"
                    class="layout-panel"
                    flex="100"
                    style="z-index: 10;"
                    layout="column">
                <editor-toolbar></editor-toolbar>
                <div flex="grow" layout="column">
                    <div class="bottomShadow"></div>
                    <editor-tabs ng-show="editorFiles.files.length > 0" layout="column"></editor-tabs>
                    <div style="background: #fff;"
                         ng-show="editorFiles.files.length === 0"
                         layout="column"
                         layout-align="center center"
                         flex="100"
                    >
                        <div flex="20"></div>
                        <div layout="column">
                            <div style="color: #666; text-align: center;">
                                No files are curently open!
                            </div>
                            <br/>
                            <md-button ng-click="openMain()" class="md-primary">
                                Open the main story.txt file
                            </md-button>
                            <md-button ng-click="openProjectTool()" class="md-primary">
                                Browse Project files
                            </md-button>
                        </div>
                        <div flex="60"></div>
                    </div>
                </div>
            </md-section>
            <div style="background: #fff;"
                 ng-if="!state.story.exists"
                 layout="column"
                 layout-align="center center"
                 flex="100">
                <div flex="30"></div>
                <div layout="column">
                    <div style="color: #666; text-align: center;">
                        You must first choose an existing
                        project before using the story editor
                    </div>
                </div>
                <div flex="60"></div>
            </div>
        </md-section>
        <md-section
                md-whiteframe="10"
                layout="column"
                class="toolTabs layout-panel"
                flex="{{ consoleFlexHeight }}"
                flex-order="5"
                ng-show="_IDEisVisible">
            <div class="toolTabs-toggle">
                <md-button class="md-icon-button"
                           ng-click="toggleTools()"
                           aria-label="Show&Hide tools">
                    <md-icon ng-show="!toolsAreVisible"
                             md-svg-icon="/svg-icons/pull-up.svg"></md-icon>
                    <md-icon ng-show="toolsAreVisible"
                             md-svg-icon="/svg-icons/pull-down.svg"></md-icon>
                </md-button>
            </div>

            <tools></tools>
        </md-section>

    </md-section>
    <md-section ng-show="_helpIsVisible"
                md-whiteframe="10"
                flex="100"
                layout="column"
                class="layout-panel">
        <help-toolbar></help-toolbar>
        <div flex="100"
             layout="row">
            <help on-escape-focus="onHelpEscapeFocus()"
                  on-focus="onHelpFocus()"></help>
        </div>
    </md-section>
</md-content>
